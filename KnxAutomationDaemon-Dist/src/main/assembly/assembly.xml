
<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd">

    <id>${assemble.id}</id>
    <formats>
        <format>zip</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>

    <dependencySets>
        <dependencySet>
            <!--
                do not specify "includes" section. This will exclude child-dependencies!
                just specifiying nothing special means: put all dependencies (incl. child ones)
                in lib folder...
            -->
            <includes>
                <include>de.root1.kad:knx-automation-daemon</include>
            </includes>
            <useProjectArtifact>false</useProjectArtifact>
            
            <outputDirectory>bin</outputDirectory>
        </dependencySet>

        <!-- include the required files/folder resources for the application server runtime environment-->
<!--        <dependencySet>
            <includes>
                <include>de.root1:kad-distribution</include>
            </includes>
            <outputDirectory></outputDirectory>
            <unpack>true</unpack>
            <unpackOptions>
                <excludes>
                    <exclude>META-INF/**</exclude> 
                </excludes>
                <filtered>true</filtered>
            </unpackOptions>
            <fileMode>750</fileMode>
            

        </dependencySet>
            -->

        <!-- pre-fill deploy folder with most important modules -->
        <dependencySet>
            <includes>
                <include>de.root1.kad:logicplugin::jar-with-dependencies</include>
            </includes>
            <outputDirectory>plugins</outputDirectory>
            
            <useProjectAttachments>true</useProjectAttachments>

        </dependencySet>
    </dependencySets>

</assembly>
